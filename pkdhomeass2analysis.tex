\documentclass[12pt, a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[swedish]{babel}
\usepackage{fullpage}
\usepackage{hyperref}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage[parfill]{parskip}

\title{Analysis of rectangles and quadtrees}
\author{Erik Englund, 921016-4530 and Alexander Andersson, 860616-1530}

\begin{document}
\maketitle

\section{Time complexity of validRectangle, emptyQtree, insert and query}

\subsection{validRectangle}

Since the validRectangle function only computes two comparisons, the time-complexity of the function is 
$\Theta(1)$




\subsection{emptyQtree}

This function only produces an empty quadtree with the extent of rectangle e. Thus the time-complexity of the function is constant $\Theta(1)$



\subsection{insert}

The insert function use constant time processes like comparisons and adding a head to a list (only one element, the rectangle that is to be inserted). This is the case throughout the whole function, including the recursive calls. Assuming that the root of the tree has a constant extent $n$, we can produce the following time-complexity formula:

$$T(n)=T\left(\frac{n}{4}\right)+\Theta(1)$$

Here we can apply the master theorem and the result is that $T(n)=\Theta(n)$. Since $n$ is constant, the time complexity for insert is therefore also constant $T(n) = \Theta(1)$.



\subsection{query}


Given that $k$ is the depth of the tree, which in this case is constant since the extent is constant (given from assignment), $n$ the number of rectangles and $n_i$ the number of rectangles at depth $i$, we can analyze the time complexity of the function as follows:

In worst case, we will find all rectangles along the path we move down the tree. At every level, the time complexity is as follows: 

$T(0)= \Theta(n_0)$
$T(i)= \Theta(n_i) + \Theta(i-1)$

The time complexity is therefore the sum of all levels from 0 to k, which in this case is constant.



The query function also uses comparisons which take constant time. Apart from that the recursive calls split the extent used originally into four quadrants and use one of them. It also uses list concatenation of all the rectangle lists on all levels of recursive calls. This produes the time complexity form:

$$T(n)=\left(\frac{n}{4}\right)+\Theta(1)+\Theta(|\text{vertical@horizontal}|)$$

As vertical and horizontal are independent from $n$, we assume them to be constant. $\Theta(|\text{vertical@horizontal}|) = \Theta(1)$\\

\[
\left.
\begin{array}{l}
  a=1, b=4 \Rightarrow \log_ba = 0 \\
  \Theta(f(n)) = \Theta(|\text{vertical@horizontal}|) = \Theta(1) \Rightarrow c = 0
\end{array} \right\} \Rightarrow \text{Case 2.}
\]

The time complexity of query is therefore: $$T(n)=\Theta(\log n)$$

\\
\\
\section{query called with a complete and symmetrical tree}

When every level of the quadtree contains the exact same amount of rectangles, the concatenation of the lists will take constant time in every recursive call. This means that the time complexity form will be the following: $$T(n)=\Theta(1)$$

 $$T(n)=\left(\frac{n}{4}\right)+2\cdot\Theta(1)$$\\




\end{document}
